@{
    Layout = null;
}
@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Http
@using UNUMSelfPwdReset
<!doctype html>
<html lang="en" dir="ltr">

<head>

    <!-- META DATA -->
    <meta charset="UTF-8">
    <meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=0'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Sash – Bootstrap 5  Admin & Dashboard Template">
    <meta name="author" content="Spruko Technologies Private Limited">
    <meta name="keywords" content="admin,admin dashboard,admin panel,admin template,bootstrap,clean,dashboard,flat,jquery,modern,responsive,premium admin templates,responsive admin,ui,ui kit.">

    <!-- FAVICON -->
    <link rel="shortcut icon" type="image/x-icon" href="~/images/unum_favicon.ico">

    <!-- TITLE -->
    <title>@ViewData["Title"] - Change My Password</title>

    <!-- BOOTSTRAP CSS -->
    <link id="style" href="~/assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- STYLE CSS -->
    <link href="~/assets/css/style.css" rel="stylesheet">

    <!-- Plugins CSS -->
    <link href="~/assets/css/plugins.css" rel="stylesheet">

    <!--- FONT-ICONS CSS -->
    <link href="~/assets/css/icons.css" rel="stylesheet">

    <!-- INTERNAL Switcher css -->
    <link href="~/assets/switcher/css/switcher.css" rel="stylesheet">
    <link href="~/assets/switcher/demo.css" rel="stylesheet">
    <link href="~/css/site.css" rel="stylesheet">

</head>

<body class="app sidebar-mini ltr light-mode">

    <!-- GLOBAL-LOADER -->
    <div id="global-loader">
        @*<img src="~/assets/images/loader.svg" class="loader-img" alt="Loader">*@
        <div class="load-blur"></div>
        <div class="text-center text-white Load-d">
            <p class="m-n Load-P">
                <i class="fa-solid fa-spinner f-26 text-x rotate mr-2" style="color:#3d3d92"></i>

                <span class="h6 font-thin semi-bold">Loading...</span>
            </p>
        </div>
    </div>
    <!-- /GLOBAL-LOADER -->
    <!-- PAGE -->
    <!-- app-Header -->

    <div class="app-header header sticky">
        <div class="container-fluid main-container" style="min-height:24px;">
            <div class="d-flex">
                <a aria-label="Hide Sidebar" class="app-sidebar__toggle" data-bs-toggle="sidebar" href="javascript:void(0)"></a>
                <!-- sidebar-toggle-->
                <a class=" " asp-action="Index" asp-controller="Home">
                    <img src="~/assets/img/brand/logo-1.png" class="header-brand-img desktop-logo" alt="logo">
                    <img src="~/assets/img/brand/logo-1.png" class="header-brand-img light-logo1"
                         alt="logo">
                </a>
                <!-- LOGO -->



            </div>
        </div>
    </div>
    @if (User.Identity?.IsAuthenticated == true)
    {
        <!-- /app-Header -->
        <!--APP-SIDEBAR-->
        <div class="sticky">
            <div class="app-sidebar__overlay" data-bs-toggle="sidebar"></div>
            <div class="app-sidebar">
                <div class="side-header">
                    <a class=" logo-horizontal" asp-action="Index" asp-controller="Home">
                        <img src="~/assets/img/brand/logo-1.png" alt="logo" class="header-brand-img desktop-logo">

                    </a>
                    <!-- LOGO -->
                </div>
                <div class="main-sidemenu">
                    <div class="pf-img mt-6 ml-3">
                        <center class="p-i">
                            @if (User.Identity?.IsAuthenticated == true)
                            {
                                @if (@Context.Session.GetString("Profilepic") != null && @Context.Session.GetString("Profilepic") != "")
                                {
                                    <img src="data:image;base64,@Context.Session.GetString("Profilepic")" class="profile-img" />
                                }
                                else
                                {
                                    <img src="~/assets/images/user.png" class="profile-img" />

                                }
                            }
                            else
                            {
                                <img src="~/assets/images/user.png" style="height:150px;border-radius:50%;" />
                            }
                        </center>
                    </div>
                    <div class="slide-left disabled" id="slide-left">
                        <svg xmlns="http://www.w3.org/2000/svg"
                         fill="#7b8191" width="24" height="24" viewBox="0 0 24 24">
                            <path d="M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z" />
                        </svg>
                    </div>
                    <ul class="side-menu">
                        <li class="sub-category text-center">
                            <h3 class="p-text">@Context.Session.GetString("FirstName") @Context.Session.GetString("LastName")</h3>
                        </li>
                    </ul>

                </div>
            </div>
        </div>
    }
    <!--/APP-SIDEBAR-->
    <!--app-content open-->
    <div class="main-content app-content mt-0">
        <div class="side-app">

            <!-- CONTAINER -->
            @if (User.Identity?.IsAuthenticated == true)
            {
                <div class="main-container container-fluid">

                    @RenderBody()
                </div>
            }
            else
            {
                <div class="main-content app-content mt-0">

                    <main role="main" class="pb-3" style="padding: 45px;">
                        @if (User.Identity?.IsAuthenticated != true)
                        {
                            <img src="~/assets/images/brand/logo.png" alt="logo" style="height:36px;margin: 15px 0;" />
                        }
                        @RenderBody()
                    </main>
                    @if (User.Identity?.IsAuthenticated != true)
                    {
                        <a class="btn btn-bl" asp-area="MicrosoftIdentity" asp-controller="Account" asp-action="SignIn" style="margin: 0 45px;">
                            <i class="fa fa-sign-in f-16 pr-5" aria-hidden="true"></i>  Sign in
                        </a>
                    }
                </div>
            }


            <!-- CONTAINER CLOSED -->
        </div>
    </div>
    <!--app-content closed-->
    <!-- FOOTER -->
    <footer class="footer">
        <div class="container">
            <div class="row align-items-center flex-row-reverse">
                <div class="col-md-12 col-sm-12 text-center">
                    Copyright © <span id="year"></span> <a href="javascript:void(0)"> UNUM. </a> All rights reserved.
                </div>
            </div>
        </div>
    </footer>
    <!-- FOOTER CLOSED -->
    <!-- BACK-TO-TOP -->
    <a href="#top" id="back-to-top"><i class="fa fa-angle-up"></i></a>
    <!-- MODAL ALERT MESSAGE -->
    <div class="modal fade" id="mdlchangepassword">
        <div class="modal-dialog modal-dialog-centered text-center " role="document">
            <div class="modal-content tx-size-sm">
                <div class="modal-header">

                    <div class="col-md-1 pull-left">
                        <span class="float-start h-img img-l">
                            @*<i class="fa-solid fa-key f-26" style="color:#00428c;padding: 8px 6px 9px 5px;"></i>*@
                            <img src="~/assets/img/lock-img.png" class=""  />
                        </span>

                    </div>
                    <div class="col-md-11 pull-right text-left">
                        <label class="fs-16 col-md-12 semi-bold">Create a strong password to protect your account.</label>
                        <label class="fs-15 col-md-12">You are required to a combination of letters, numbers, and special characters.</label>
                    </div>

                </div>
                <div class="modal-body text-center p-4 pb-5 plr-10">
                    @*  <button aria-label="Close" class="btn-close position-absolute" data-bs-dismiss="modal"><span aria-hidden="true">&times;</span></button>*@


                    <div class="alert alert-secondary">
                        <div class="ts float-start col-md-12 text-left">
                            <svg class="svg-warning mr-2" xmlns="http://www.w3.org/2000/svg" height="1.5rem" viewBox="0 0 24 24" width="1.5rem" fill="#00428c">
                                <path d="M0 0h24v24H0z" fill="none">

                                </path>
                                <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z">

                                </path>
                            </svg>
                            <label class="fs-16 semi-bold">Your password must:</label>
                        </div>
                        <ul class="ul-list">
                            <li>Be a minimum of <b>12 Characters</b></li>
                            <li>Not be the same as your previous 24 passwords</li>
                            @*<li>Not contain your first or last name</li>*@
                            <li>Contain at least one <b>Uppercase Character (A through Z)</b></li>
                            <li>Contain at least one <b>Number (0-9)</b></li>
                            <li>Contain at least one <b>Special Character<text> (-!&#64;#$%()^&*)</text></b> </li>
                        </ul>
                    </div>
                    <div class="alert alert-warning mt-3">
                        <div class="col-md-12 text-left" style="display: inline-flex;">
                            <div class="ts float-start" style="margin-top: 5px;">
                                <svg class="svg-warning mr-i" xmlns="http://www.w3.org/2000/svg" height="2.5rem" viewBox="0 0 24 24" width="2.5rem" fill="#eb6d00">
                                    <path d="M0 0h24v24H0z" fill="none">

                                    </path>
                                    <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z">

                                    </path>
                                </svg>
                            </div>
                            <div class="m-s">
                                <label class="fs-16 semi-bold">Reminder you may need to change your password in other applications such as your mobile app or authenticator. </label>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="modal-footer" style="border: none;justify-content:flex-end;">
                    <button type="button" class="btn btn-cancel dismissmodal" data-bs-dismiss="modal" style="border: 1px solid silver;">Cancel</button>
                    <a href="https://account.activedirectory.windowsazure.com/ChangePassword.aspx" target="_blank" class="btn btn-lb change" data-dismiss="modal">Continue</a>
                </div>
            </div>

        </div>
    </div>

    <!-- JQUERY JS -->
    <script src="~/assets/js/jquery.min.js"></script>

    <!-- BOOTSTRAP JS -->
    <script src="~/assets/plugins/bootstrap/js/popper.min.js"></script>
    <script src="~/assets/plugins/bootstrap/js/bootstrap.min.js"></script>



    <!-- SIDE-MENU JS -->
    <script src="~/assets/plugins/sidemenu/sidemenu.js"></script>

    <!-- SIDEBAR JS -->
    <script src="~/assets/plugins/sidebar/sidebar.js"></script>

    <!-- Color Theme js -->
    <script src="~/assets/js/themeColors.js"></script>

    <!-- Sticky js -->
    <script src="~/assets/js/sticky.js"></script>

    <!-- CUSTOM JS -->
    <script src="~/assets/js/custom.js"></script>

    <!-- Custom-switcher -->
    <script src="~/assets/js/custom-swicher.js"></script>

    <!-- Switcher js -->
    <script src="~/assets/switcher/js/switcher.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            //App.init();
            $("#global-loader").hide();
        });
        $(document).on('click', '#closePopupNotificationView', function (e) {
            $("#_PopupNotificationView").hide();
            $("#global-loader").hide();
            setTimeout(function () {
                $("#global-loader").hide();
            }, 2000);
        });
        $(document).on('click', '#closenewPopupNotificationView', function (e) {
            $("#_PopupView").hide();
            $("#global-loader").hide();
            setTimeout(function () {
                $("#global-loader").hide();
            }, 2000);
        });
        $(document).on('click', '#redirect', function (e) {
            $("#_PopupView").hide();
            $("#global-loader").hide();
            setTimeout(function () {
                $("#global-loader").hide();
            }, 2000);
        });
        $(document).on('click', '.nav-btn', function (e) {
            $("#global-loader").show();
        });
        $(document).on('click', '#closePopupNotificationView', function (e) {

        });
        $(document).on('click', '.btn-lb', function (e) {
            $("#global-loader").show();
        });
        $(document).on('click', '.btn-bl', function (e) {
            $("#global-loader").show();
        });
        $(document).on('click', '.btn-a', function (e) {
            $("#global-loader").show();
        });
        $(document).on('click', '.change', function (e) {
            $("#mdlchangepassword").modal('hide');
            setTimeout(function () {
                $("#global-loader").hide();
            }, 500);
        });
        $("#global-loader").hide();
    </script>
    <script src="https://kit.fontawesome.com/21ea93b3d8.js" crossorigin="anonymous"></script>
    @if (TempData["PopupViewModel"] != null)
    {
        var popupViewModel = TempData.GetObjectFromJson<PopupViewModel>("PopupViewModel");
        <partial name="Popup" model="popupViewModel" />
    }
    @if (TempData["newPopupViewModel"] != null)
    {
        var popupViewModel = TempData.GetObjectFromJson<PopupViewModel>("newPopupViewModel");
        <partial name="NewPopup" model="popupViewModel" />
    }
    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>